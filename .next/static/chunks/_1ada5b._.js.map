{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/willwright/Documents/HMDA%20Research/NextJS%20Viz%20Repo/components/HighchartsDrilldownMap.jsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport Highcharts from \"highcharts\";\nimport HighchartsReact from \"highcharts-react-official\";\nimport HighchartsMap from \"highcharts/modules/map\";\nimport HighchartsDrilldown from \"highcharts/modules/drilldown\";\nimport mapDataWorld from \"@highcharts/map-collection/custom/world.geo.json\";\nimport TiledWebMap from \"highcharts/modules/tiledwebmap\";\n\nconst HighchartsDrilldownMap = () => {\n  const [options, setOptions] = useState(null);\n\n  useEffect(() => {\n    const initMap = async () => {\n      try {\n        // Fetch the GeoJSON data\n        const countiesGeoJSON = await fetch(\n          \"/geojson/simplified_Counties.geojson\"\n        ).then((res) => res.json());\n        const censusTractsGeoJSON = await fetch(\n          \"/geojson/simplified_CTs.geojson\"\n        ).then((res) => res.json());\n\n        // Preprocess drilldown data\n        const drilldownData = {};\n        censusTractsGeoJSON.features.forEach((feature) => {\n          const countyKey = feature.properties.COUNTYFP;\n          if (!drilldownData[countyKey]) {\n            drilldownData[countyKey] = [];\n          }\n          drilldownData[countyKey].push({\n            key: feature.properties.COUNTYFP,\n            name: feature.properties.NAME, // Adjust if needed\n            value: Math.random() * 100, // Replace with actual data\n          });\n        });\n\n        // Configure drilldown series\n        const drilldownSeries = Object.keys(drilldownData).map((countyKey) => ({\n          id: countyKey,\n          name: `Census Tracts in County ${countyKey}`,\n          mapData: {\n            type: \"FeatureCollection\",\n            features: censusTractsGeoJSON.features.filter(\n              (feature) => feature.properties.COUNTYFP === countyKey\n            ),\n          },\n          data: drilldownData[countyKey].map((item) => ({\n            key: item.key,\n            value: item.value,\n          })),\n        }));\n\n        // Set chart options\n        setOptions({\n          chart: {\n            map: countiesGeoJSON,\n          },\n          title: {\n            text: \"Drilldown Map with GeoJSON\",\n          },\n          mapNavigation: {\n            enabled: true,\n          },\n          colorAxis: {\n            min: 0,\n          },\n          series: [\n            {\n              name: \"Counties\",\n              mapData: countiesGeoJSON,\n              data: countiesGeoJSON.features.map((feature) => ({\n                key: feature.properties.COUNTYFP,\n                value: Math.random() * 100, // Replace with actual data\n                drilldown: feature.properties.COUNTYFP, // Matches drilldown series\n              })),\n            },\n          ],\n          drilldown: {\n            series: drilldownSeries,\n          },\n        });\n      } catch (error) {\n        console.error(\"Error loading GeoJSON data:\", error);\n      }\n    };\n\n    initMap();\n  }, []);\n\n  return (\n    <div>\n      {options ? (\n        <HighchartsReact\n          highcharts={Highcharts}\n          constructorType={\"mapChart\"}\n          options={options}\n        />\n      ) : (\n        <div>Loading map...</div>\n      )}\n    </div>\n  );\n};\n\nexport default HighchartsDrilldownMap;\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AARA;;;;;;;;AAUA,MAAM,yBAAyB;;IAC7B,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;4CAAE;YACR,MAAM;4DAAU;oBACd,IAAI;wBACF,yBAAyB;wBACzB,MAAM,kBAAkB,MAAM,MAC5B,wCACA,IAAI;wEAAC,CAAC,MAAQ,IAAI,IAAI;;wBACxB,MAAM,sBAAsB,MAAM,MAChC,mCACA,IAAI;wEAAC,CAAC,MAAQ,IAAI,IAAI;;wBAExB,4BAA4B;wBAC5B,MAAM,gBAAgB,CAAC;wBACvB,oBAAoB,QAAQ,CAAC,OAAO;wEAAC,CAAC;gCACpC,MAAM,YAAY,QAAQ,UAAU,CAAC,QAAQ;gCAC7C,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE;oCAC7B,aAAa,CAAC,UAAU,GAAG,EAAE;gCAC/B;gCACA,aAAa,CAAC,UAAU,CAAC,IAAI,CAAC;oCAC5B,KAAK,QAAQ,UAAU,CAAC,QAAQ;oCAChC,MAAM,QAAQ,UAAU,CAAC,IAAI;oCAC7B,OAAO,KAAK,MAAM,KAAK;gCACzB;4BACF;;wBAEA,6BAA6B;wBAC7B,MAAM,kBAAkB,OAAO,IAAI,CAAC,eAAe,GAAG;wFAAC,CAAC,YAAc,CAAC;oCACrE,IAAI;oCACJ,MAAM,CAAC,wBAAwB,EAAE,WAAW;oCAC5C,SAAS;wCACP,MAAM;wCACN,UAAU,oBAAoB,QAAQ,CAAC,MAAM;wGAC3C,CAAC,UAAY,QAAQ,UAAU,CAAC,QAAQ,KAAK;;oCAEjD;oCACA,MAAM,aAAa,CAAC,UAAU,CAAC,GAAG;oGAAC,CAAC,OAAS,CAAC;gDAC5C,KAAK,KAAK,GAAG;gDACb,OAAO,KAAK,KAAK;4CACnB,CAAC;;gCACH,CAAC;;wBAED,oBAAoB;wBACpB,WAAW;4BACT,OAAO;gCACL,KAAK;4BACP;4BACA,OAAO;gCACL,MAAM;4BACR;4BACA,eAAe;gCACb,SAAS;4BACX;4BACA,WAAW;gCACT,KAAK;4BACP;4BACA,QAAQ;gCACN;oCACE,MAAM;oCACN,SAAS;oCACT,MAAM,gBAAgB,QAAQ,CAAC,GAAG;oFAAC,CAAC,UAAY,CAAC;gDAC/C,KAAK,QAAQ,UAAU,CAAC,QAAQ;gDAChC,OAAO,KAAK,MAAM,KAAK;gDACvB,WAAW,QAAQ,UAAU,CAAC,QAAQ;4CACxC,CAAC;;gCACH;6BACD;4BACD,WAAW;gCACT,QAAQ;4BACV;wBACF;oBACF,EAAE,OAAO,OAAO;wBACd,QAAQ,KAAK,CAAC,+BAA+B;oBAC/C;gBACF;;YAEA;QACF;2CAAG,EAAE;IAEL,qBACE,6LAAC;kBACE,wBACC,6LAAC,wLAAA,CAAA,UAAe;YACd,YAAY,2IAAA,CAAA,UAAU;YACtB,iBAAiB;YACjB,SAAS;;;;;iCAGX,6LAAC;sBAAI;;;;;;;;;;;AAIb;GA9FM;KAAA;uCAgGS"}},
    {"offset": {"line": 146, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}